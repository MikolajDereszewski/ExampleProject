using UnityEngine;

namespace Game.AI
{
    using Game.Player;

    /// <summary>
    /// Makes enemy vulnerable to bullet damage
    /// </summary>
    public class EnemyBulletVulnerability : MonoBehaviour
    {
        [SerializeField]
        private Enemy _enemy;

        private void OnCollisionEnter(Collision collision)
        {
            if (collision.collider.CompareTag("Bullet"))
            {
                Bullet bullet = collision.collider.GetComponent<Bullet>();
                _enemy.Damage(bullet.Damage, collision.contacts[0].point, collision.contacts[0].normal);
                bullet?.Deactivate();
            }
        }
    }
}